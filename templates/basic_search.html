{% extends "base.html" %}
{% block content %}
<form method="post" action="/search/basic" class="space-y-10 max-w-md mx-auto">

  <!-- μ§„ν–‰λ¥  ν‘μ‹λ°” -->
  <div class="relative mb-6">
    <div class="w-full h-2 bg-gray-200 rounded-full overflow-hidden shadow-inner">
      <div id="progress-bar" class="h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-300" style="width: 33%;"></div>
    </div>
    <div class="absolute right-0 top-full mt-1 text-sm text-gray-600" id="step-indicator">1 / 3 (33%)</div>
  </div>

  <!-- Step 1: μμ‚° μ„ νƒ -->
  <div class="step" id="step1">
    <h2 class="text-2xl font-semibold text-gray-800 mb-2">π’Έ μμ‚°μ€ μ–΄λ μ •λ„μΈκ°€μ”?</h2>
    <p class="text-gray-500 text-sm mb-4">μ¶”μ² λ…ΈνΈλ¶ ν•„ν„°λ§μ— μ‚¬μ©λΌμ”</p>
    <div class="grid grid-cols-1 gap-4">
      {% for price, label in [(700000, '70λ§μ› μ΄ν•'), (1000000, '70λ§μ› ~ 100λ§μ›'), (1300000, '100λ§μ› ~ 130λ§μ›'), (2000000, '130λ§μ› μ΄μƒ')] %}
      <label class="flex items-center justify-between bg-white border border-gray-300 rounded-xl px-5 py-4 shadow-sm hover:shadow-md hover:border-blue-400 transition cursor-pointer">
        <span class="text-sm font-medium text-gray-700">{{ label }}</span>
        <input type="radio" name="budget" value="{{ price }}" class="w-5 h-5 text-blue-600 accent-blue-500 rounded focus:ring-2 focus:ring-blue-400">
      </label>
      {% endfor %}
    </div>
    <button type="button" class="next-button mt-8 w-full bg-blue-600 text-white text-base font-semibold px-4 py-3 rounded-xl hover:bg-blue-700 shadow-md">
      λ‹¤μ β†’
    </button>
  </div>

  <!-- Step 2: μ©λ„ μ„ νƒ -->
  <div class="step hidden" id="step2">
    <h2 class="text-2xl font-semibold text-gray-800 mb-2">π’Ό μ–΄λ–¤ μ©λ„λ΅ μ‚¬μ©ν•  μμ •μΈκ°€μ”?</h2>
    <p class="text-gray-500 text-sm mb-4">μ©λ„μ— λ”°λΌ μ„±λ¥ μ¶”μ²μ΄ λ‹¬λΌμ Έμ”</p>
    <div class="grid grid-cols-1 gap-4">
      {% for val, desc in [('office', 'λ¬Έμ„ μ‘μ—… / μ›Ήμ„ν•‘ / μΈκ°•'), ('study', 'μ½”λ”© / μ „κ³µ ν•™μµ / κ°€λ²Όμ΄ κ°λ°'), ('design', 'λ””μμΈ / μμƒ νΈμ§‘'), ('game', 'κ²μ„μ© / κ³ μ„±λ¥ μ‘μ—…')] %}
      <label class="flex items-center justify-between bg-white border border-gray-300 rounded-xl px-5 py-4 shadow-sm hover:shadow-md hover:border-blue-400 transition cursor-pointer">
        <span class="text-sm font-medium text-gray-700">{{ desc }}</span>
        <input type="radio" name="purpose" value="{{ val }}" class="w-5 h-5 text-blue-600 accent-blue-500 rounded focus:ring-2 focus:ring-blue-400">
      </label>
      {% endfor %}
    </div>
    <button type="button" class="next-button mt-8 w-full bg-blue-600 text-white text-base font-semibold px-4 py-3 rounded-xl hover:bg-blue-700 shadow-md">
      λ‹¤μ β†’
    </button>
  </div>

  <!-- Step 3: ν΄λ€μ„± μ—¬λ¶€ -->
  <div class="step hidden" id="step3">
    <h2 class="text-2xl font-semibold text-gray-800 mb-2">π’ ν΄λ€μ„±μ΄ μ¤‘μ”ν•κ°€μ”?</h2>
    <p class="text-gray-500 text-sm mb-4">λ¬΄κ²λ‚ ν™”λ©΄ ν¬κΈ°μ— μν–¥μ„ μ¤μ”</p>
    <div class="grid grid-cols-1 gap-4">
      <label class="flex items-center justify-between bg-white border border-gray-300 rounded-xl px-5 py-4 shadow-sm hover:shadow-md hover:border-blue-400 transition cursor-pointer">
        <span class="text-sm font-medium text-gray-700">μ¤‘μ”ν•΄μ” (1.5kg μ΄ν• / 14μΈμΉ μ΄ν•)</span>
        <input type="radio" name="portability" value="yes" class="w-5 h-5 text-blue-600 accent-blue-500 rounded focus:ring-2 focus:ring-blue-400">
      </label>
      <label class="flex items-center justify-between bg-white border border-gray-300 rounded-xl px-5 py-4 shadow-sm hover:shadow-md hover:border-blue-400 transition cursor-pointer">
        <span class="text-sm font-medium text-gray-700">κ΄μ°®μ•„μ” (λ¬΄κ², ν¬κΈ° μƒκ΄€μ—†μ)</span>
        <input type="radio" name="portability" value="no" class="w-5 h-5 text-blue-600 accent-blue-500 rounded focus:ring-2 focus:ring-blue-400">
      </label>
    </div>
    <button type="submit" class="mt-8 w-full bg-green-600 text-white text-base font-semibold px-4 py-3 rounded-xl hover:bg-green-700 shadow-md">
      μ΅°κ±΄μ— λ§λ” λ…ΈνΈλ¶ λ³΄κΈ° β…
    </button>
  </div>
</form>

<!-- JavaScript: λ‹¨κ³„ μ΄λ™ + μ²΄ν¬ λ°•μ¤ ν¨κ³Ό + μ§„ν–‰λ¥  λ°” -->
<script>
  const steps = document.querySelectorAll('.step');
  const progressBar = document.getElementById('progress-bar');
  const stepIndicator = document.getElementById('step-indicator');

  document.querySelectorAll('.next-button').forEach((btn, i) => {
    btn.addEventListener('click', () => {
      steps[i].classList.add('hidden');
      steps[i + 1]?.classList.remove('hidden');
      const progress = ((i + 2) / steps.length) * 100;
      progressBar.style.width = `${progress}%`;
      stepIndicator.textContent = `${i + 2} / ${steps.length} (${Math.round(progress)}%)`;
    });
  });
</script>
{% endblock %}